# 자동차 경주 구현

## 작성자 : 최용석 (choi.yongseok@yanolja.com)
## 작성일 : 2022.10.08

# 기능명세

## 자동차 이름 입력
* 자동차 이름 구분자 : 쉼표(,)
* (조건1) 자동차 이름 길이 제한 (5자 이하)
* (조건2) 자동차 이름 중복 금지
* (조건3) 자동차 이름 2개 이상

## 시도 횟수 입력
* (조건1) 1회 이상
* (조건2) 숫자

## 예외 발생
* 사용자 입력부분에서 에러 발생시 Exception 표시
* [Error] 표시를 각 예외 메시지 앞에 붙임
* 어떤 예외인지 그 예외 클래스를 몇확히 표현

## 이동 전략 - 난수 이동전략
* 이동 전략은 다양할 수 있음 -> 인터페이스
* 난수 범위 - 0 ~ 9
* 이동 조건 - 4 이상 전진 / 4 미만 정지

## 결과 표시
* 각 라운드별 자동차의 위치를 '-' 연속으로 표현
* 최종 우승자 출력
* 최종 우승자 1명 이상일 경우 쉼표(, )로 구분

# 구현 명세 (객체와 함수)

## Car/ CarName/ CarPosition / Cars 클래스
* 자동차는 이름, 위치를 가지고 있음
* 경기에 참여하는 자동차 그룹이 있음
* 자동차는 move 함수로 위치를 step 만큼 이동시킴
* 자동차그룹은 각 자동차의 move함수를 호출하는 moveAll이라는 함수를 가짐
* 자동차는 나중에 순위를 추출하기 위해 선후를 비교하는 Comparable 컬렉션을 implements한다.

## MoveStrategy 인터페이스, RandomNumberMoveStrategy 클래스
* 여러 이동전략이 가능하도록 MoveStrategy 인터페이스
* 난수를 통한 이동전략을 특징으로하는 랜덤이동전략 구현클래스를 만듦
* actByStrategy, isMovable 함수

## Manager 클래스 - 사용자 입력
* 사용자 입력을 검증
* manageCarList, manageTotalRound 함수

## Round 클래스
* 라운드는 자동차리스트와 이동전략을 기반으로 경기 각 라운드를 직접 컨트롤한다.
* 현재 라운드 수를 리턴한다.
* 각 라운드는 현재 자동차들의 위치를 갖는 경기결과를 리턴한다.

## Result, Record 클래스
* 경기결과는 자동차리스트를 기반으로 현재 승자를 찾아서 리턴한다.
* 이러한 각 기록을 경기결과 리스트에 쌓는다. 이는 추후 각 라운드별 승자를 보여줄 수도 있기위해 기획했다.

## Race 클래스
* 레이스를 관장하는 레이스 기능을 개발한다.
* 레이스는 이동전략을 기반으로 구현되며, 레이스는 라운드를 통해 경기를 진행한다.
* 각라운드별로 경기결과를 return하며 그 경기결과를 기록한다.
* (1) 레이스는 start함수를 갖는다. 인자로는 총 라운드수를 받는다.
* (2) 레이스는 레이스준비 함수를 갖는다.
* (3) 레이스는 레이스 종료여부를 return하는 isRaceOver()함수를 갖는다.
* (4) 레이스는 최종 승자를 리턴한다.
* (5) 레이스는 경기결과를 기록한 레코드를 반환한다.

## RaceController 클래스
* 컨트롤러는 기본적으로 Manager, Race, MoveStrategy 클래스를 생성

# 개발명세

## 개발명세 : 게임 룰, 메시지, 에러 등의 기본클래스 생성
* 사용자의 입력을 받는 Input
* 컴퓨터의 출력을 담당하는 Output
* 레이스메시지, 에러메시지를 갖는 message 패키지
* 레이스 룰

## 구현명세 : 하위 순서대로 기능 개발
* Car/ Cars / CarName / CarPosition
* RaceManager (입력)
* RaceStrategy (난수생성)
* Result 
* Record 
* Round 
* Race 
* RaceController

## 테스트코드 개발
* 사용자 입력 테스트 (공백, 중복입력, 차이름길이, 형식검증)
* 레이스 진행 테스트
* 레이스 결과 테스트

## 테스트 항목
* 자동차 생성항목 입력 - exception 발생
* (1) 빈문자열 테스트 
* (2) 자동차 한대만 입력 테스트
* (3) 자동차 이름 길이 테스트
* (4) 자동차 이름 없을때 테스트
* 시도횟수 입력 - exception 발생
* (1) 빈문자열 테스트
* (2) 문자 혼용 입력 테스트
* (3) 0회 이하 입력 테스트
* (4) 0으로 시작하는 문자입력 테스트
* 입력에러 테스트
* (1) 자동차 생성입력 에러시 다시 자동차 생성입력 테스트
* (2) 시도횟수 입력 에러시 다시 시도횟수 입력 테스트
* 자동차 이동 테스트
* (1) 전진 테스트
* (2) 정지 테스트
* 레이스 테스트
* (1) 공동 최종우승 테스트
* (2) 모두 0회 움직일때 결과 테스트

## 리팩토링
* 코딩컨벤션에 맞게 작성되었는지 확인